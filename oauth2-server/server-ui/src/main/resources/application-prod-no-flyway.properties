# Application Configuration for Containerized Flyway Deployment
# Use this profile when Flyway migrations are handled by a separate container/job
# Profile: prod-no-flyway

# Disable Spring Boot Flyway integration
# Migrations are handled by the standalone Flyway container
spring.flyway.enabled=false

# Use validate mode to ensure schema matches JPA entities
# This catches any drift between migrations and entity definitions
spring.jpa.hibernate.ddl-auto=validate

# Database configuration (use environment variables)
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/oauth2db}
spring.datasource.username=${DATABASE_USERNAME:postgres}
spring.datasource.password=${DATABASE_PASSWORD:postgres}

# Connection pool settings
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5

# OAuth2 Configuration
oauth2.issuer-url=${OAUTH2_ISSUER_URL:http://localhost:9000}

# Security Configuration
server.ssl.enabled=false

# Actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized

# Logging
logging.level.com.bootsandcats=INFO
logging.level.org.springframework.security=INFO
