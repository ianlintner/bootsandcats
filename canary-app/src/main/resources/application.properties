server.port=8080
spring.application.name=canary-app

spring.security.oauth2.client.registration.oauth2-server.client-id=${OAUTH2_CLIENT_ID:canary-app}
spring.security.oauth2.client.registration.oauth2-server.client-secret=${OAUTH2_CLIENT_SECRET:changeme}
spring.security.oauth2.client.registration.oauth2-server.scope=openid,profile,email
spring.security.oauth2.client.registration.oauth2-server.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.oauth2-server.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.registration.oauth2-server.client-name=OAuth2 Server

## Use issuer-uri for OIDC discovery, with explicit endpoint overrides if needed
spring.security.oauth2.client.provider.oauth2-server.issuer-uri=${OAUTH2_ISSUER_URI:https://oauth2.cat-herding.net}
spring.security.oauth2.client.provider.oauth2-server.authorization-uri=${OAUTH2_AUTHORIZATION_URI:https://oauth2.cat-herding.net/oauth2/authorize}
spring.security.oauth2.client.provider.oauth2-server.token-uri=${OAUTH2_TOKEN_URI:https://oauth2.cat-herding.net/oauth2/token}
spring.security.oauth2.client.provider.oauth2-server.jwk-set-uri=${OAUTH2_JWK_SET_URI:https://oauth2.cat-herding.net/oauth2/jwks}
spring.security.oauth2.client.provider.oauth2-server.user-info-uri=${OAUTH2_USERINFO_URI:https://oauth2.cat-herding.net/userinfo}
spring.security.oauth2.client.provider.oauth2-server.user-name-attribute=sub
